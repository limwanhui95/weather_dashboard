<script>
    var forecastDataString = '<%-JSON.stringify(weatherData.forecast.forecastday)%>'
    var forecastData = JSON.parse(forecastDataString);
    var chartXData =[];
    var chartYdata = [];
    try{
        for(let i=0;i<24;i++) {
            chartXData.push(forecastData[0].hour[i].temp_c);
            chartYdata.push(getHour(i));
        }
        const chartData = {
            labels: chartYdata,
            datasets: [{
                data: chartXData,
                backgroundColor: '#FFE4C4',
                borderColor: 'rgba(255, 228, 196,0.5)',
                fill: {
                    target: 'origin',
                    above: '#F5F5DC',
                }
            }]
        };
        Chart.register(ChartDataLabels);
        new Chart(
        document.getElementById('forecast'),
        {
          type: 'line',
          data: chartData,
          options: {
            plugins: {
               legend: false,
               datalabels:{
                color: "black",
                font: {
                    weight: "bold",
                },
                align: "end",
                offset: 2,
               },
            },
            scales: {
                x: {
                    border:{
                        display: false,
                    },
                    grid: {
                        display: false,
                    },
                    ticks: {color: "rgba(0,0,0,0.8)",}, 
                },
                y: {
                    border:{
                        display: false,
                    },
                    grid:{
                        display: false,
                    },
                    ticks: {display: false},
                    grace: '25%',
                }    
            },

          }
        }
        );
        console.log(chartData);
    } catch (error) {
        console.log(error);
    }
    function getHour(str){
        if(str<12) {
            return str+" am";
        }
        else if(str==12) {
            return str+" pm";
        }
        else {
            return (str-12)+" pm";
        }
    }
</script>